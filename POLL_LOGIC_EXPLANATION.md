# Ð›Ð¾Ð³Ð¸ÐºÐ° Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ Ñ Ð¾Ð¿Ñ€Ð¾ÑÐ°Ð¼Ð¸ Ñ‚Ñ€ÐµÐ½Ð¸Ñ€Ð¾Ð²Ð¾Ðº

## ðŸŽ¯ ÐŸÑ€Ð¸Ð½Ñ†Ð¸Ð¿ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹

Ð‘Ð¾Ñ‚ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ð¿Ð¾ ÑÐ»ÐµÐ´ÑƒÑŽÑ‰ÐµÐ¼Ñƒ Ð¿Ñ€Ð¸Ð½Ñ†Ð¸Ð¿Ñƒ:

1. **Ð’Ð¾ÑÐºÑ€ÐµÑÐµÐ½ÑŒÐµ 9:00** - Ð¡Ð¾Ð·Ð´Ð°ÐµÑ‚ÑÑ Ð¾Ð´Ð¸Ð½ Ð¾Ð¿Ñ€Ð¾Ñ Ð½Ð° Ð²ÑÑŽ Ð½ÐµÐ´ÐµÐ»ÑŽ
2. **Ð¡Ñ€ÐµÐ´Ð° 9:00** - Ð¡Ð¾Ð±Ð¸Ñ€Ð°ÑŽÑ‚ÑÑ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð¸Ð· ÑÑ‚Ð¾Ð³Ð¾ Ð¾Ð¿Ñ€Ð¾ÑÐ°
3. **Ð¡ÑƒÐ±Ð±Ð¾Ñ‚Ð° 9:00** - Ð¡Ð½Ð¾Ð²Ð° ÑÐ¾Ð±Ð¸Ñ€Ð°ÑŽÑ‚ÑÑ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð¸Ð· ÑÑ‚Ð¾Ð³Ð¾ Ð¶Ðµ Ð¾Ð¿Ñ€Ð¾ÑÐ°
4. **Ð¡Ð»ÐµÐ´ÑƒÑŽÑ‰ÐµÐµ Ð²Ð¾ÑÐºÑ€ÐµÑÐµÐ½ÑŒÐµ 9:00** - Ð¡Ð¾Ð·Ð´Ð°ÐµÑ‚ÑÑ Ð½Ð¾Ð²Ñ‹Ð¹ Ð¾Ð¿Ñ€Ð¾Ñ

## ðŸ“… Ð”ÐµÑ‚Ð°Ð»ÑŒÐ½Ð°Ñ Ð»Ð¾Ð³Ð¸ÐºÐ°

### Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ð¾Ð¿Ñ€Ð¾ÑÐ° (Ð’Ð¾ÑÐºÑ€ÐµÑÐµÐ½ÑŒÐµ 9:00)

```python
# Ð¤ÑƒÐ½ÐºÑ†Ð¸Ñ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸
async def should_create_weekly_poll() -> bool:
    now = datetime.datetime.now()
    return now.weekday() == 6 and now.hour == 9 and now.minute < 30
```

**Ð§Ñ‚Ð¾ Ð¿Ñ€Ð¾Ð¸ÑÑ…Ð¾Ð´Ð¸Ñ‚:**
- Ð‘Ð¾Ñ‚ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÑÐµÑ‚, Ñ‡Ñ‚Ð¾ ÑÐµÐ¹Ñ‡Ð°Ñ Ð²Ð¾ÑÐºÑ€ÐµÑÐµÐ½ÑŒÐµ (weekday == 6)
- Ð’Ñ€ÐµÐ¼Ñ Ð¼ÐµÐ¶Ð´Ñƒ 9:00 Ð¸ 9:29
- Ð¡Ð¾Ð·Ð´Ð°ÐµÑ‚ÑÑ Ð¾Ð¿Ñ€Ð¾Ñ "Ð¢Ñ€ÐµÐ½Ð¸Ñ€Ð¾Ð²ÐºÐ¸ Ð½Ð° Ð½ÐµÐ´ÐµÐ»Ðµ" Ñ Ð²Ð°Ñ€Ð¸Ð°Ð½Ñ‚Ð°Ð¼Ð¸:
  - Ð’Ñ‚Ð¾Ñ€Ð½Ð¸Ðº Ð¡Ð¨ÐžÐ  19:00
  - Ð¡Ñ€ÐµÐ´Ð° 550 ÑˆÐºÐ¾Ð»Ð° 19:00
  - ÐŸÑÑ‚Ð½Ð¸Ñ†Ð° Ð¡Ð¨ÐžÐ  20:30
  - ÐÐµÑ‚
  - Ð¢Ñ€ÐµÐ½ÐµÑ€

### Ð¡Ð±Ð¾Ñ€ Ð´Ð°Ð½Ð½Ñ‹Ñ… (Ð¡Ñ€ÐµÐ´Ð°/Ð¡ÑƒÐ±Ð±Ð¾Ñ‚Ð° 9:00)

```python
# Ð¤ÑƒÐ½ÐºÑ†Ð¸Ñ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸
async def should_collect_attendance() -> bool:
    now = datetime.datetime.now()
    return (now.weekday() in [2, 5]) and now.hour == 9 and now.minute < 30
```

**Ð§Ñ‚Ð¾ Ð¿Ñ€Ð¾Ð¸ÑÑ…Ð¾Ð´Ð¸Ñ‚:**
- Ð‘Ð¾Ñ‚ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÑÐµÑ‚, Ñ‡Ñ‚Ð¾ ÑÐµÐ¹Ñ‡Ð°Ñ ÑÑ€ÐµÐ´Ð° (2) Ð¸Ð»Ð¸ ÑÑƒÐ±Ð±Ð¾Ñ‚Ð° (5)
- Ð’Ñ€ÐµÐ¼Ñ Ð¼ÐµÐ¶Ð´Ñƒ 9:00 Ð¸ 9:29
- Ð˜Ñ‰ÐµÑ‚ **Ð¿Ð¾ÑÐ»ÐµÐ´Ð½Ð¸Ð¹ Ð¾Ð¿Ñ€Ð¾Ñ**, ÑÐ¾Ð·Ð´Ð°Ð½Ð½Ñ‹Ð¹ Ð² Ð²Ð¾ÑÐºÑ€ÐµÑÐµÐ½ÑŒÐµ

### ÐŸÐ¾Ð¸ÑÐº Ð¿Ð¾ÑÐ»ÐµÐ´Ð½ÐµÐ³Ð¾ Ð¾Ð¿Ñ€Ð¾ÑÐ°

```python
async def get_latest_sunday_training_poll():
    # Ð˜Ñ‰ÐµÐ¼ Ð¾Ð¿Ñ€Ð¾ÑÑ‹ Ð·Ð° Ð¿Ð¾ÑÐ»ÐµÐ´Ð½Ð¸Ðµ 7 Ð´Ð½ÐµÐ¹
    since = datetime.datetime.now() - datetime.timedelta(days=7)
    
    # ÐŸÐ¾Ð»ÑƒÑ‡Ð°ÐµÐ¼ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ Ñ Ð¿Ð¾Ð¸ÑÐºÐ¾Ð¼ "Ð¢Ñ€ÐµÐ½Ð¸Ñ€Ð¾Ð²ÐºÐ¸ Ð½Ð° Ð½ÐµÐ´ÐµÐ»Ðµ"
    messages = await self.client.get_messages(
        chat_id=CHAT_ID,
        search='Ð¢Ñ€ÐµÐ½Ð¸Ñ€Ð¾Ð²ÐºÐ¸ Ð½Ð° Ð½ÐµÐ´ÐµÐ»Ðµ',
        limit=50,
        offset_date=since
    )
    
    # Ð¤Ð¸Ð»ÑŒÑ‚Ñ€ÑƒÐµÐ¼ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð¾Ð¿Ñ€Ð¾ÑÑ‹, ÑÐ¾Ð·Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð² Ð²Ð¾ÑÐºÑ€ÐµÑÐµÐ½ÑŒÐµ
    sunday_polls = []
    for message in messages:
        if message.poll and "Ñ‚Ñ€ÐµÐ½Ð¸Ñ€Ð¾Ð²ÐºÐ¸" in message.poll.question.lower():
            if message.date.weekday() == 6:  # 6 = Ð²Ð¾ÑÐºÑ€ÐµÑÐµÐ½ÑŒÐµ
                sunday_polls.append(poll_data)
    
    # Ð’Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÐµÐ¼ ÑÐ°Ð¼Ñ‹Ð¹ Ð¿Ð¾ÑÐ»ÐµÐ´Ð½Ð¸Ð¹ (Ð¿ÐµÑ€Ð²Ñ‹Ð¹ Ð² ÑÐ¿Ð¸ÑÐºÐµ)
    return sunday_polls[0] if sunday_polls else None
```

## ðŸ” ÐŸÑ€Ð¸Ð¼ÐµÑ€ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹

### ÐÐµÐ´ÐµÐ»Ñ 1:
- **Ð’Ð¾ÑÐºÑ€ÐµÑÐµÐ½ÑŒÐµ 9:00** - Ð¡Ð¾Ð·Ð´Ð°ÐµÑ‚ÑÑ Ð¾Ð¿Ñ€Ð¾Ñ "Ð¢Ñ€ÐµÐ½Ð¸Ñ€Ð¾Ð²ÐºÐ¸ Ð½Ð° Ð½ÐµÐ´ÐµÐ»Ðµ"
- **Ð¡Ñ€ÐµÐ´Ð° 9:00** - Ð¡Ð¾Ð±Ð¸Ñ€Ð°ÑŽÑ‚ÑÑ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð¸Ð· ÑÑ‚Ð¾Ð³Ð¾ Ð¾Ð¿Ñ€Ð¾ÑÐ°
- **Ð¡ÑƒÐ±Ð±Ð¾Ñ‚Ð° 9:00** - Ð¡Ð½Ð¾Ð²Ð° ÑÐ¾Ð±Ð¸Ñ€Ð°ÑŽÑ‚ÑÑ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð¸Ð· ÑÑ‚Ð¾Ð³Ð¾ Ð¶Ðµ Ð¾Ð¿Ñ€Ð¾ÑÐ°

### ÐÐµÐ´ÐµÐ»Ñ 2:
- **Ð’Ð¾ÑÐºÑ€ÐµÑÐµÐ½ÑŒÐµ 9:00** - Ð¡Ð¾Ð·Ð´Ð°ÐµÑ‚ÑÑ Ð½Ð¾Ð²Ñ‹Ð¹ Ð¾Ð¿Ñ€Ð¾Ñ "Ð¢Ñ€ÐµÐ½Ð¸Ñ€Ð¾Ð²ÐºÐ¸ Ð½Ð° Ð½ÐµÐ´ÐµÐ»Ðµ"
- **Ð¡Ñ€ÐµÐ´Ð° 9:00** - Ð¡Ð¾Ð±Ð¸Ñ€Ð°ÑŽÑ‚ÑÑ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð¸Ð· Ð½Ð¾Ð²Ð¾Ð³Ð¾ Ð¾Ð¿Ñ€Ð¾ÑÐ°
- **Ð¡ÑƒÐ±Ð±Ð¾Ñ‚Ð° 9:00** - Ð¡Ð½Ð¾Ð²Ð° ÑÐ¾Ð±Ð¸Ñ€Ð°ÑŽÑ‚ÑÑ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð¸Ð· Ð½Ð¾Ð²Ð¾Ð³Ð¾ Ð¾Ð¿Ñ€Ð¾ÑÐ°

## ðŸ“Š Ð¡Ñ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° Ð´Ð°Ð½Ð½Ñ‹Ñ…

### Ð’ Google Sheets ÑÐ¾Ñ…Ñ€Ð°Ð½ÑÐµÑ‚ÑÑ:

| Ð”Ð°Ñ‚Ð° Ð¾Ð¿Ñ€Ð¾ÑÐ° | Ð”ÐµÐ½ÑŒ Ð½ÐµÐ´ÐµÐ»Ð¸ | Ð¢Ñ€ÐµÐ½Ð¸Ñ€Ð¾Ð²ÐºÐ° | Ð£Ñ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ¸ | ÐšÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ |
|-------------|-------------|------------|-----------|------------|
| 2024-01-14  | Ð’Ñ‚Ð¾Ñ€Ð½Ð¸Ðº     | Ð’Ñ‚Ð¾Ñ€Ð½Ð¸Ðº Ð¡Ð¨ÐžÐ  19:00 | Ð˜Ð³Ñ€Ð¾Ðº1, Ð˜Ð³Ñ€Ð¾Ðº2 | 2 |
| 2024-01-14  | Ð¡Ñ€ÐµÐ´Ð°       | Ð¡Ñ€ÐµÐ´Ð° 550 ÑˆÐºÐ¾Ð»Ð° 19:00 | Ð˜Ð³Ñ€Ð¾Ðº2, Ð˜Ð³Ñ€Ð¾Ðº3 | 2 |
| 2024-01-14  | ÐŸÑÑ‚Ð½Ð¸Ñ†Ð°     | ÐŸÑÑ‚Ð½Ð¸Ñ†Ð° Ð¡Ð¨ÐžÐ  20:30 | Ð˜Ð³Ñ€Ð¾Ðº1, Ð˜Ð³Ñ€Ð¾Ðº4 | 2 |

**Ð’Ð°Ð¶Ð½Ð¾:** Ð”Ð°Ñ‚Ð° Ð² Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ðµ - ÑÑ‚Ð¾ Ð´Ð°Ñ‚Ð° ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ Ð¾Ð¿Ñ€Ð¾ÑÐ° (Ð²Ð¾ÑÐºÑ€ÐµÑÐµÐ½ÑŒÐµ), Ð° Ð½Ðµ Ð´Ð°Ñ‚Ð° Ñ‚Ñ€ÐµÐ½Ð¸Ñ€Ð¾Ð²ÐºÐ¸.

## âš ï¸ ÐžÑÐ¾Ð±ÐµÐ½Ð½Ð¾ÑÑ‚Ð¸ Ð¸ Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ñ

### 1. ÐžÐ´Ð¸Ð½ Ð¾Ð¿Ñ€Ð¾Ñ Ð½Ð° Ð½ÐµÐ´ÐµÐ»ÑŽ
- ÐšÐ°Ð¶Ð´Ð¾Ðµ Ð²Ð¾ÑÐºÑ€ÐµÑÐµÐ½ÑŒÐµ ÑÐ¾Ð·Ð´Ð°ÐµÑ‚ÑÑ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð¾Ð´Ð¸Ð½ Ð¾Ð¿Ñ€Ð¾Ñ
- Ð¡Ñ€ÐµÐ´Ð° Ð¸ ÑÑƒÐ±Ð±Ð¾Ñ‚Ð° Ð¾Ð±Ñ€Ð°Ð±Ð°Ñ‚Ñ‹Ð²Ð°ÑŽÑ‚ Ð¾Ð´Ð¸Ð½ Ð¸ Ñ‚Ð¾Ñ‚ Ð¶Ðµ Ð¾Ð¿Ñ€Ð¾Ñ
- Ð­Ñ‚Ð¾ Ð¿Ð¾Ð·Ð²Ð¾Ð»ÑÐµÑ‚ Ð¾Ñ‚ÑÐ»ÐµÐ¶Ð¸Ð²Ð°Ñ‚ÑŒ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ Ð² Ð³Ð¾Ð»Ð¾ÑÐ¾Ð²Ð°Ð½Ð¸Ð¸

### 2. ÐŸÐ¾Ð¸ÑÐº Ð¿Ð¾ Ð´Ð°Ñ‚Ðµ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ
- Ð‘Ð¾Ñ‚ Ð¸Ñ‰ÐµÑ‚ Ð¾Ð¿Ñ€Ð¾ÑÑ‹, ÑÐ¾Ð·Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð¸Ð¼ÐµÐ½Ð½Ð¾ Ð² Ð²Ð¾ÑÐºÑ€ÐµÑÐµÐ½ÑŒÐµ
- Ð˜Ð³Ð½Ð¾Ñ€Ð¸Ñ€ÑƒÐµÑ‚ Ð¾Ð¿Ñ€Ð¾ÑÑ‹, ÑÐ¾Ð·Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð² Ð´Ñ€ÑƒÐ³Ð¸Ðµ Ð´Ð½Ð¸
- Ð˜Ñ‰ÐµÑ‚ Ð·Ð° Ð¿Ð¾ÑÐ»ÐµÐ´Ð½Ð¸Ðµ 7 Ð´Ð½ÐµÐ¹

### 3. ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° Ð³Ð¾Ð»Ð¾ÑÐ¾Ð²
- Ð•ÑÐ»Ð¸ Ð¾Ð¿Ñ€Ð¾Ñ Ð°Ð½Ð¾Ð½Ð¸Ð¼Ð½Ñ‹Ð¹ - Ð¿Ð¾Ð»ÑƒÑ‡Ð°ÐµÐ¼ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð³Ð¾Ð»Ð¾ÑÐ¾Ð²
- Ð•ÑÐ»Ð¸ Ð¾Ð¿Ñ€Ð¾Ñ Ð¿ÑƒÐ±Ð»Ð¸Ñ‡Ð½Ñ‹Ð¹ - Ð¼Ð¾Ð¶Ð½Ð¾ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ð¸Ð¼ÐµÐ½Ð° ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ¾Ð²
- ÐŸÐ¾Ð´Ð´ÐµÑ€Ð¶Ð¸Ð²Ð°ÐµÑ‚ÑÑ Ð¼Ð½Ð¾Ð¶ÐµÑÑ‚Ð²ÐµÐ½Ð½Ñ‹Ð¹ Ð²Ñ‹Ð±Ð¾Ñ€

### 4. ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° Ð¾ÑˆÐ¸Ð±Ð¾Ðº
- Ð•ÑÐ»Ð¸ Ð¾Ð¿Ñ€Ð¾Ñ Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½ - Ð²Ñ‹Ð²Ð¾Ð´Ð¸Ñ‚ÑÑ Ð¿Ñ€ÐµÐ´ÑƒÐ¿Ñ€ÐµÐ¶Ð´ÐµÐ½Ð¸Ðµ
- Ð•ÑÐ»Ð¸ Ð½ÐµÑ‚ Ð³Ð¾Ð»Ð¾ÑÐ¾Ð² - ÑÐ¾Ñ…Ñ€Ð°Ð½ÑÐµÑ‚ÑÑ Ð¿ÑƒÑÑ‚Ð°Ñ Ð·Ð°Ð¿Ð¸ÑÑŒ
- Ð•ÑÐ»Ð¸ Ð¾ÑˆÐ¸Ð±ÐºÐ° API - Ð»Ð¾Ð³Ð¸Ñ€ÑƒÐµÑ‚ÑÑ Ð¾ÑˆÐ¸Ð±ÐºÐ°

## ðŸ§ª Ð¢ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð»Ð¾Ð³Ð¸ÐºÐ¸

### Ð¢ÐµÑÑ‚ Ð¿Ð¾Ð¸ÑÐºÐ° Ð¿Ð¾ÑÐ»ÐµÐ´Ð½ÐµÐ³Ð¾ Ð¾Ð¿Ñ€Ð¾ÑÐ°:
```bash
python test_latest_poll.py
```

### ÐžÐ¶Ð¸Ð´Ð°ÐµÐ¼Ñ‹Ð¹ Ð²Ñ‹Ð²Ð¾Ð´:
```
âœ… ÐÐ°Ð¹Ð´ÐµÐ½ Ð¿Ð¾ÑÐ»ÐµÐ´Ð½Ð¸Ð¹ Ð¾Ð¿Ñ€Ð¾Ñ Ñ‚Ñ€ÐµÐ½Ð¸Ñ€Ð¾Ð²Ð¾Ðº Ð¾Ñ‚ 2024-01-14 09:00
ðŸ“Š ÐÐ°Ð¹Ð´ÐµÐ½ Ð¿Ð¾ÑÐ»ÐµÐ´Ð½Ð¸Ð¹ Ð¾Ð¿Ñ€Ð¾Ñ Ñ‚Ñ€ÐµÐ½Ð¸Ñ€Ð¾Ð²Ð¾Ðº:
   Ð’Ð¾Ð¿Ñ€Ð¾Ñ: Ð¢Ñ€ÐµÐ½Ð¸Ñ€Ð¾Ð²ÐºÐ¸ Ð½Ð° Ð½ÐµÐ´ÐµÐ»Ðµ
   Ð”Ð°Ñ‚Ð° ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ: 2024-01-14T09:00:00
   Ð’ÑÐµÐ³Ð¾ Ð³Ð¾Ð»Ð¾ÑÐ¾Ð²: 8
   ÐÐ½Ð¾Ð½Ð¸Ð¼Ð½Ñ‹Ð¹: False
   ÐœÐ½Ð¾Ð¶ÐµÑÑ‚Ð²ÐµÐ½Ð½Ñ‹Ð¹ Ð²Ñ‹Ð±Ð¾Ñ€: True

ðŸ“‹ Ð’Ð°Ñ€Ð¸Ð°Ð½Ñ‚Ñ‹ Ð¾Ñ‚Ð²ÐµÑ‚Ð¾Ð²:
   1. Ð’Ñ‚Ð¾Ñ€Ð½Ð¸Ðº Ð¡Ð¨ÐžÐ  19:00: 3 Ð³Ð¾Ð»Ð¾ÑÐ°
   2. Ð¡Ñ€ÐµÐ´Ð° 550 ÑˆÐºÐ¾Ð»Ð° 19:00: 2 Ð³Ð¾Ð»Ð¾ÑÐ°
   3. ÐŸÑÑ‚Ð½Ð¸Ñ†Ð° Ð¡Ð¨ÐžÐ  20:30: 4 Ð³Ð¾Ð»Ð¾ÑÐ°
   4. ÐÐµÑ‚: 1 Ð³Ð¾Ð»Ð¾Ñ
   5. Ð¢Ñ€ÐµÐ½ÐµÑ€: 0 Ð³Ð¾Ð»Ð¾ÑÐ¾Ð²

ðŸ‘¥ Ð£Ñ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ¸ Ð¿Ð¾ Ð´Ð½ÑÐ¼:
   Ð’Ñ‚Ð¾Ñ€Ð½Ð¸Ðº: 3 ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ¾Ð²
   Ð¡Ñ€ÐµÐ´Ð°: 2 ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ¾Ð²
   ÐŸÑÑ‚Ð½Ð¸Ñ†Ð°: 4 ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ¾Ð²
```

## ðŸ”§ ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° Ð¸ Ð¾Ñ‚Ð»Ð°Ð´ÐºÐ°

### ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ñ… Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ:
```bash
# ÐžÐ±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ð´Ð»Ñ Ð¿Ð¾Ð¸ÑÐºÐ° Ð¾Ð¿Ñ€Ð¾ÑÐ¾Ð²:
TELEGRAM_API_ID=12345678
TELEGRAM_API_HASH=abcdef1234567890abcdef1234567890
TELEGRAM_PHONE=+79001234567
CHAT_ID=your_chat_id
ANNOUNCEMENTS_TOPIC_ID=your_topic_id
```

### ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð»Ð¾Ð³Ð¸ÐºÐ¸:
```bash
# Ð¢ÐµÑÑ‚ Ð¿Ð¾Ð¸ÑÐºÐ° Ð¾Ð¿Ñ€Ð¾ÑÐ°
python test_latest_poll.py

# Ð¢ÐµÑÑ‚ ÑÐ±Ð¾Ñ€Ð° Ð´Ð°Ð½Ð½Ñ‹Ñ…
python -c "
import asyncio
from training_polls import collect_attendance_data
result = asyncio.run(collect_attendance_data())
print('Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚:', result)
"
```

## ðŸ“ˆ ÐŸÑ€ÐµÐ¸Ð¼ÑƒÑ‰ÐµÑÑ‚Ð²Ð° Ñ‚Ð°ÐºÐ¾Ð¹ Ð»Ð¾Ð³Ð¸ÐºÐ¸

1. **ÐŸÑ€Ð¾ÑÑ‚Ð¾Ñ‚Ð°** - Ð¾Ð´Ð¸Ð½ Ð¾Ð¿Ñ€Ð¾Ñ Ð½Ð° Ð½ÐµÐ´ÐµÐ»ÑŽ
2. **ÐÐ°Ð´ÐµÐ¶Ð½Ð¾ÑÑ‚ÑŒ** - Ñ‡ÐµÑ‚ÐºÐ¸Ð¹ Ð°Ð»Ð³Ð¾Ñ€Ð¸Ñ‚Ð¼ Ð¿Ð¾Ð¸ÑÐºÐ°
3. **ÐžÑ‚ÑÐ»ÐµÐ¶Ð¸Ð²Ð°Ð½Ð¸Ðµ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ð¹** - Ð¼Ð¾Ð¶Ð½Ð¾ Ð²Ð¸Ð´ÐµÑ‚ÑŒ, ÐºÐ°Ðº Ð¼ÐµÐ½ÑÑŽÑ‚ÑÑ Ð³Ð¾Ð»Ð¾ÑÐ°
4. **Ð­Ñ„Ñ„ÐµÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚ÑŒ** - Ð¼Ð¸Ð½Ð¸Ð¼ÑƒÐ¼ Ð·Ð°Ð¿Ñ€Ð¾ÑÐ¾Ð² Ðº API
5. **ÐŸÐ¾Ð½ÑÑ‚Ð½Ð¾ÑÑ‚ÑŒ** - Ð»Ð¾Ð³Ð¸ÐºÐ° ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ Ñ€ÐµÐ°Ð»ÑŒÐ½Ð¾Ð¼Ñƒ Ð¿Ñ€Ð¾Ñ†ÐµÑÑÑƒ

## ðŸŽ¯ Ð—Ð°ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ

**Ð”Ð°, Ð±Ð¾Ñ‚ Ð±ÑƒÐ´ÐµÑ‚ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÑÑ‚ÑŒ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ 1 Ð¾Ð¿Ñ€Ð¾Ñ ÐºÐ°Ð¶Ð´ÑƒÑŽ ÑÑ€ÐµÐ´Ñƒ Ð¸ ÑÑƒÐ±Ð±Ð¾Ñ‚Ñƒ - Ñ‚Ð¾Ñ‚, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ Ð±Ñ‹Ð» ÑÐ¾Ð·Ð´Ð°Ð½ Ð² Ð¿Ð¾ÑÐ»ÐµÐ´Ð½ÐµÐµ Ð²Ð¾ÑÐºÑ€ÐµÑÐµÐ½ÑŒÐµ.**

Ð­Ñ‚Ð¾ Ð¾Ð±ÐµÑÐ¿ÐµÑ‡Ð¸Ð²Ð°ÐµÑ‚:
- âœ… Ð¡Ñ‚Ð°Ð±Ð¸Ð»ÑŒÐ½ÑƒÑŽ Ñ€Ð°Ð±Ð¾Ñ‚Ñƒ
- âœ… ÐŸÑ€Ð¾ÑÑ‚Ð¾Ñ‚Ñƒ Ð¿Ð¾Ð½Ð¸Ð¼Ð°Ð½Ð¸Ñ
- âœ… Ð­Ñ„Ñ„ÐµÐºÑ‚Ð¸Ð²Ð½Ð¾Ðµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ Ñ€ÐµÑÑƒÑ€ÑÐ¾Ð²
- âœ… ÐšÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ð¾Ðµ Ð¾Ñ‚ÑÐ»ÐµÐ¶Ð¸Ð²Ð°Ð½Ð¸Ðµ Ð¿Ð¾ÑÐµÑ‰Ð°ÐµÐ¼Ð¾ÑÑ‚Ð¸
